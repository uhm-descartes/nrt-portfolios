<script src="https://cdn.rawgit.com/showdownjs/showdown/1.0.1/dist/showdown.min.js"></script>
<script src="{{ site.baseurl }}/js/bundle.js"></script>

<script>
  // const dJSON = require('dirty-json');
  // const RJSON = require('relaxed-json');
  // const JSON5 = require('json5');
/*
  $(document).ready(function () {
    var profileCards = $('.card');
    var sortList = Array.prototype.sort.bind(profileCards);
    console.log(sortList);

    sortList(function (a, b) {

      // Cache inner content from the first element (a) and the next sibling (b)
      var aText = document.getElementById(a.id + '_name').innerHTML;
      var bText = document.getElementById(b.id + '_name').innerHTML;

      // Returning -1 will place element `a` before element `b`
      if (aText < bText) {
        return -1;
      }

      // Returning 1 will do the opposite
      if (aText > bText) {
        return 1;
      }

      // Returning 0 leaves them as-is
      return 0;
    });
  });
  */
</script>


<h1 style="text-align: center;background-color:forestgreen;color: white;"> NRT DESCARTS Community</h1>
{% for group in site.data.members %}
<h2 style="text-align: center;"><hr>{{ group[0] }}<hr></h2>

<div class="ui container ">
  <div class="ui four doubling stackable cards">
    {% assign members_group = group[1] | sort_natural %}
    {% for member_json_bio in members_group %}
    {% include portfolio-card.html member_json_bio=member_json_bio %}
    {% endfor %}
  </div>
</div>

{% endfor %}


<script>
// Fetch the list of forks of the NRTechfolio repository and use to generate URLs for the potyfolios of the members of the NRT DESCARTES community
/*
  fetch('https://api.github.com/repos/uhm-descartes/NRTechfolio/forks')
    .then(
      function (response) {
        if (response.status !== 200) {
          console.log('Looks like there was a problem. Status Code: ' +
            response.status);
          return;
        }

        // Examine the text in the response
        response.text().then(function (rdata) {
          var data;
          try {
            data = JSON.parse(rdata);
          } catch (e) {

          }
          // generate the portfolio URLs
        for(let i in data){
          console.log(`${data[i].owner.login}.github.io/NRTechfolio/`);
        }
        });
      }
    )
    .catch(function (err) {
      console.log('Fetch Error :-S for {{ profileURL }}', err);
    });
*/
</script>